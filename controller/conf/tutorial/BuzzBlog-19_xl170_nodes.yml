# Copyright (C) 2020 Georgia Tech Center for Experimental Research in Computer
# Systems

node-0:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    loadgen1:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen1"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8080"
    loadgen2:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen2"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8081"
    loadgen3:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen3"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8082"
    loadgen4:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen4"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8083"
    loadgen5:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen5"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8084"
    loadgen6:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen6"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8085"
    loadgen7:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen7"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8086"
    loadgen8:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen8"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8087"
    loadgen9:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen9"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8088"
    loadgen10:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen10"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-4"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-1:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    loadgen11:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen11"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8080"
    loadgen12:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen12"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8081"
    loadgen13:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen13"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8082"
    loadgen14:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen14"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8083"
    loadgen15:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen15"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8084"
    loadgen16:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen16"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8085"
    loadgen17:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen17"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8086"
    loadgen18:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen18"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8087"
    loadgen19:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen19"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8088"
    loadgen20:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen20"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-5"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-2:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    loadgen21:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen21"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8080"
    loadgen22:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen22"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8081"
    loadgen23:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen23"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8082"
    loadgen24:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen24"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8083"
    loadgen25:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen25"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8084"
    loadgen26:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen26"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8085"
    loadgen27:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen27"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8086"
    loadgen28:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen28"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8087"
    loadgen29:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen29"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8088"
    loadgen30:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen30"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-6"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-3:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    loadgen31:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen31"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8080"
    loadgen32:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen32"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8081"
    loadgen33:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen33"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8082"
    loadgen34:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen34"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8083"
    loadgen35:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen35"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8084"
    loadgen36:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen36"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8085"
    loadgen37:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen37"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8086"
    loadgen38:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen38"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8087"
    loadgen39:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen39"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8088"
    loadgen40:
      image: "rodrigoalveslima/buzzblog:loadgen_v0.1"
      start_order: 4
      logs:
        - "/var/log/loadgen.log"
      options:
        name: "loadgen40"
        ulimit: "nofile=131072:131072"
        volume:
          - "/usr/local/etc/loadgen:/usr/local/etc/loadgen"
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "hostname=node-7"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-4:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.core.netdev_budget: "1000"
    net.core.netdev_budget_usecs: "32000"
    net.core.netdev_max_backlog: "500000"
    net.core.somaxconn: "1024"
    net.ipv4.ip_local_port_range: "16384 65535"
    net.ipv4.tcp_abort_on_overflow: "0"
    net.ipv4.tcp_fin_timeout: "60"
    net.ipv4.tcp_max_syn_backlog: "1024"
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.ipv4.tcp_syn_retries: "3"
    net.ipv4.tcp_synack_retries: "3"
    net.ipv4.tcp_syncookies: "0"
    net.ipv4.tcp_timestamps: "0"
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_rmem: "4096 524288 16777216"
    net.ipv4.tcp_wmem: "4096 524288 16777216"
  containers:
    apigateway1:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway1"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8080"
    apigateway2:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway2"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8081"
    apigateway3:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway3"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8082"
    apigateway4:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway4"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8083"
    apigateway5:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway5"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8084"
    apigateway6:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway6"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8085"
    apigateway7:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway7"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8086"
    apigateway8:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway8"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8087"
    apigateway9:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway9"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8088"
    apigateway10:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway10"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-5:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.core.netdev_budget: "1000"
    net.core.netdev_budget_usecs: "32000"
    net.core.netdev_max_backlog: "500000"
    net.core.somaxconn: "1024"
    net.ipv4.ip_local_port_range: "16384 65535"
    net.ipv4.tcp_abort_on_overflow: "0"
    net.ipv4.tcp_fin_timeout: "60"
    net.ipv4.tcp_max_syn_backlog: "1024"
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.ipv4.tcp_syn_retries: "3"
    net.ipv4.tcp_synack_retries: "3"
    net.ipv4.tcp_syncookies: "0"
    net.ipv4.tcp_timestamps: "0"
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_rmem: "4096 524288 16777216"
    net.ipv4.tcp_wmem: "4096 524288 16777216"
  containers:
    apigateway11:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway11"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8080"
    apigateway12:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway12"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8081"
    apigateway13:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway13"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8082"
    apigateway14:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway14"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8083"
    apigateway15:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway15"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8084"
    apigateway16:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway16"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8085"
    apigateway17:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway17"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8086"
    apigateway18:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway18"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8087"
    apigateway19:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway19"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8088"
    apigateway20:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway20"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-6:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.core.netdev_budget: "1000"
    net.core.netdev_budget_usecs: "32000"
    net.core.netdev_max_backlog: "500000"
    net.core.somaxconn: "1024"
    net.ipv4.ip_local_port_range: "16384 65535"
    net.ipv4.tcp_abort_on_overflow: "0"
    net.ipv4.tcp_fin_timeout: "60"
    net.ipv4.tcp_max_syn_backlog: "1024"
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.ipv4.tcp_syn_retries: "3"
    net.ipv4.tcp_synack_retries: "3"
    net.ipv4.tcp_syncookies: "0"
    net.ipv4.tcp_timestamps: "0"
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_rmem: "4096 524288 16777216"
    net.ipv4.tcp_wmem: "4096 524288 16777216"
  containers:
    apigateway21:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway21"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8080"
    apigateway22:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway22"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8081"
    apigateway23:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway23"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8082"
    apigateway24:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway24"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8083"
    apigateway25:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway25"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8084"
    apigateway26:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway26"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8085"
    apigateway27:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway27"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8086"
    apigateway28:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway28"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8087"
    apigateway29:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway29"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8088"
    apigateway30:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway30"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-7:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.core.netdev_budget: "1000"
    net.core.netdev_budget_usecs: "32000"
    net.core.netdev_max_backlog: "500000"
    net.core.somaxconn: "1024"
    net.ipv4.ip_local_port_range: "16384 65535"
    net.ipv4.tcp_abort_on_overflow: "0"
    net.ipv4.tcp_fin_timeout: "60"
    net.ipv4.tcp_max_syn_backlog: "1024"
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.ipv4.tcp_syn_retries: "3"
    net.ipv4.tcp_synack_retries: "3"
    net.ipv4.tcp_syncookies: "0"
    net.ipv4.tcp_timestamps: "0"
    net.ipv4.tcp_tw_reuse: "1"
    net.ipv4.tcp_rmem: "4096 524288 16777216"
    net.ipv4.tcp_wmem: "4096 524288 16777216"
  containers:
    apigateway31:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway31"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8080"
    apigateway32:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway32"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8081"
    apigateway33:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway33"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8082"
    apigateway34:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway34"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8083"
    apigateway35:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway35"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8084"
    apigateway36:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway36"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8085"
    apigateway37:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway37"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8086"
    apigateway38:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway38"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8087"
    apigateway39:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway39"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8088"
    apigateway40:
      image: "rodrigoalveslima/buzzblog:apigateway_v0.1"
      start_order: 3
      logs:
        - "/tmp/calls.log"
      options:
        name: "apigateway40"
        network: "host"
        ulimit: "nofile=131072:131072"
        volume:
          - "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        env:
          - "threads=8"
          - "port=8089"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-8:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    account_service:
      image: "rodrigoalveslima/buzzblog:account_v0.1"
      start_order: 2
      logs:
        - "/tmp/calls.log"
        - "/tmp/queries.log"
      options:
        name: "account_service"
        ulimit: "nofile=131072:131072"
        publish: "9090:9090"
        cpuset-cpus: "0-19"
        volume: "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9090"
          - "threads=80"
          - "accept_backlog=1024"
          - "backend_filepath=/etc/opt/BuzzBlog/backend.yml"
          - "postgres_connection_pool_size=128"
          - "postgres_user=postgres"
          - "postgres_password=postgres"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-9:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    account_database:
      image: "postgres:13.1 -c max_connections=128"
      start_order: 1
      options:
        name: "account_database"
        ulimit: "nofile=131072:131072"
        publish: "5433:5432"
        volume: "/var/lib/postgresql/BuzzBlog/account/data:/var/lib/postgresql/data"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "POSTGRES_USER=postgres"
          - "POSTGRES_PASSWORD=postgres"
          - "POSTGRES_DB=account"
          - "POSTGRES_HOST_AUTH_METHOD=trust"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-10:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    follow_service:
      image: "rodrigoalveslima/buzzblog:follow_v0.1"
      start_order: 2
      logs:
        - "/tmp/calls.log"
      options:
        name: "follow_service"
        ulimit: "nofile=131072:131072"
        publish: "9091:9091"
        cpuset-cpus: "0-19"
        volume: "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9091"
          - "threads=80"
          - "accept_backlog=1024"
          - "backend_filepath=/etc/opt/BuzzBlog/backend.yml"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-11:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    like_service:
      image: "rodrigoalveslima/buzzblog:like_v0.1"
      start_order: 2
      logs:
        - "/tmp/calls.log"
      options:
        name: "like_service"
        ulimit: "nofile=131072:131072"
        publish: "9092:9092"
        cpuset-cpus: "0-19"
        volume: "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9092"
          - "threads=80"
          - "accept_backlog=1024"
          - "backend_filepath=/etc/opt/BuzzBlog/backend.yml"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-12:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    post_service:
      image: "rodrigoalveslima/buzzblog:post_v0.1"
      start_order: 2
      logs:
        - "/tmp/calls.log"
        - "/tmp/queries.log"
      options:
        name: "post_service"
        ulimit: "nofile=131072:131072"
        publish: "9093:9093"
        cpuset-cpus: "0-19"
        volume: "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9093"
          - "threads=80"
          - "accept_backlog=1024"
          - "backend_filepath=/etc/opt/BuzzBlog/backend.yml"
          - "postgres_connection_pool_size=128"
          - "postgres_user=postgres"
          - "postgres_password=postgres"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-13:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    post_database:
      image: "postgres:13.1 -c max_connections=128"
      start_order: 1
      options:
        name: "post_database"
        ulimit: "nofile=131072:131072"
        publish: "5434:5432"
        volume: "/var/lib/postgresql/BuzzBlog/post/data:/var/lib/postgresql/data"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "POSTGRES_USER=postgres"
          - "POSTGRES_PASSWORD=postgres"
          - "POSTGRES_DB=post"
          - "POSTGRES_HOST_AUTH_METHOD=trust"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-14:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    uniquepair_service:
      image: "rodrigoalveslima/buzzblog:uniquepair_v0.1"
      start_order: 2
      logs:
        - "/tmp/calls.log"
        - "/tmp/queries.log"
      options:
        name: "uniquepair_service"
        ulimit: "nofile=131072:131072"
        publish: "9094:9094"
        cpuset-cpus: "0-19"
        volume: "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9094"
          - "threads=80"
          - "accept_backlog=1024"
          - "backend_filepath=/etc/opt/BuzzBlog/backend.yml"
          - "postgres_connection_pool_size=128"
          - "postgres_user=postgres"
          - "postgres_password=postgres"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-15:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    uniquepair_database:
      image: "postgres:13.1 -c max_connections=128"
      start_order: 1
      options:
        name: "uniquepair_database"
        ulimit: "nofile=131072:131072"
        publish: "5435:5432"
        volume: "/var/lib/postgresql/BuzzBlog/uniquepair/data:/var/lib/postgresql/data"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "POSTGRES_USER=postgres"
          - "POSTGRES_PASSWORD=postgres"
          - "POSTGRES_DB=uniquepair"
          - "POSTGRES_HOST_AUTH_METHOD=trust"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-16:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    trending_service:
      image: "rodrigoalveslima/buzzblog:trending_v0.1"
      start_order: 2
      logs:
        - "/tmp/calls.log"
        - "/tmp/queries.log"
        - "/tmp/redis.log"
      options:
        name: "trending_service"
        ulimit: "nofile=131072:131072"
        publish: "9095:9095"
        cpuset-cpus: "0-19"
        volume: "/etc/opt/BuzzBlog:/etc/opt/BuzzBlog"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9095"
          - "threads=80"
          - "accept_backlog=1024"
          - "backend_filepath=/etc/opt/BuzzBlog/backend.yml"
          - "redis_connection_pool_size=128"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-17:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  templates:
    redis.conf:
      output: "/etc/redis/redis.conf"
      params:
        snapshot_interval: 60
        maxclients: 10000
        tcp_backlog: 512
  containers:
    trending_redis:
      image: "redis:6.2 redis-server /etc/redis/redis.conf"
      start_order: 1
      options:
        name: "trending_redis"
        ulimit: "nofile=131072:131072"
        publish: "6379:6379"
        volume:
          - "/var/lib/redis/BuzzBlog/trending/data:/data"
          - "/etc/redis:/etc/redis"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
node-18:
  ssh:
    username: "{{username}}"
    port: 22
    key_filename: "/home/{{username}}/.ssh/id_rsa"
  kernel:
    net.ipv4.tcp_mem: "767307	3069228	6138456"
    net.core.netdev_budget: "1000"
    net.core.netdev_max_backlog: "500000"
    net.core.netdev_budget_usecs: "32000"
  containers:
    wordfilter_service:
      image: "rodrigoalveslima/buzzblog:wordfilter_v0.1"
      start_order: 2
      options:
        name: "wordfilter_service"
        ulimit: "nofile=131072:131072"
        publish: "9096:9096"
        cpuset-cpus: "0-19"
        detach: ""
        sysctl:
          - "net.ipv4.tcp_tw_reuse=1"
          - "net.ipv4.tcp_abort_on_overflow=0"
          - "net.ipv4.ip_local_port_range=\"16384 65535\""
          - "net.core.somaxconn=1024"
          - "net.ipv4.tcp_max_syn_backlog=1024"
          - "net.ipv4.tcp_fin_timeout=60"
          - "net.ipv4.tcp_timestamps=0"
          - "net.ipv4.tcp_syncookies=0"
          - "net.ipv4.tcp_syn_retries=3"
          - "net.ipv4.tcp_synack_retries=3"
          - "net.ipv4.tcp_rmem=\"4096 524288 16777216\""
          - "net.ipv4.tcp_wmem=\"4096 524288 16777216\""
        env:
          - "port=9096"
          - "threads=80"
          - "accept_backlog=1024"
          - "n_invalid_words=128"
  monitors:
    tcpretrans-bpfcc:
      dirpath: "/tmp/tcpretrans-bpfcc"
      log: "/tmp/tcpretrans-bpfcc/log"
      niceness: 19
    collectl:
      dirpath: "/tmp/collectl"
      niceness: 19
      options:
        filename: "/tmp/collectl/coll"
        interval: "0.01"
        subsys: "CDM"
        options: "Tm"
        plot: ""
